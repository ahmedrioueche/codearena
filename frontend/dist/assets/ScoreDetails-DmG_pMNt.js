import{n as a,j as e,B as k,F as h}from"./index-evChX1jM.js";const m=({isOpen:i,onClose:n,problem:d,result:t,hintsCount:o,nextLineHelpCount:s,timer:l,scoreBreakdown:x})=>{const c=d.points||a.defaultPoints,{calculateScore:g}=h(),r=x||g(d.points,t,o,s,l,d.averageTime);return e.jsx(k,{isOpen:i,onClose:n,title:"Score Calculation Details",width:"600px",height:"90vh",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 bg-gray-200 dark:bg-gray-800 rounded-lg border border-light-border dark:border-dark-border",children:[e.jsxs("h3",{className:"text-lg font-semibold text-light-foreground dark:text-dark-foreground",children:["Correctness (",a.correctnessWeight*100,"% of total)"]}),e.jsxs("p",{className:"text-sm text-light-foreground dark:text-dark-foreground",children:[t.correctnessPercentage,"% correct"]}),e.jsxs("p",{className:"text-sm text-light-foreground dark:text-dark-foreground",children:["Score: +",r.correctnessScore.toFixed(2)]})]}),e.jsxs("div",{className:"p-4 bg-gray-200 dark:bg-gray-800 rounded-lg border border-light-border dark:border-dark-border",children:[e.jsx("h3",{className:"text-lg font-semibold text-light-foreground dark:text-dark-foreground",children:"Efficiency"}),e.jsxs("p",{className:"text-sm text-light-foreground dark:text-dark-foreground",children:["Rating: ",t.efficiencyRating]}),e.jsxs("p",{className:"text-sm text-light-foreground dark:text-dark-foreground",children:["Score: +",r.efficiencyScore.toFixed(2)]})]}),e.jsxs("div",{className:"p-4 bg-gray-200 dark:bg-gray-800 rounded-lg border border-light-border dark:border-dark-border",children:[e.jsx("h3",{className:"text-lg font-semibold text-light-foreground dark:text-dark-foreground",children:"Code Quality"}),e.jsxs("p",{className:"text-sm text-light-foreground dark:text-dark-foreground",children:["Rating: ",t.codeQuality]}),e.jsxs("p",{className:"text-sm text-light-foreground dark:text-dark-foreground",children:["Score: +",r.codeQualityScore.toFixed(2)]})]}),e.jsxs("div",{className:"p-4 bg-gray-200 dark:bg-gray-800 rounded-lg border border-light-border dark:border-dark-border",children:[e.jsx("h3",{className:"text-lg font-semibold text-light-foreground dark:text-dark-foreground",children:"Penalties"}),e.jsxs("p",{className:"text-sm text-light-foreground dark:text-dark-foreground",children:["Hints Used: ",o," (Penalty: -",r.hintsPenalty.toFixed(2),")"]}),e.jsxs("p",{className:"text-sm text-light-foreground dark:text-dark-foreground",children:["Next-Line Help Used: ",s," (Penalty: -",r.nextLineHelpPenalty.toFixed(2),")"]}),e.jsxs("p",{className:"text-sm text-light-foreground dark:text-dark-foreground",children:["Syntax Mistakes: ",t.syntaxMistakesCount," (Penalty: -",r.syntaxMistakesPenalty.toFixed(2),")"]}),e.jsxs("p",{className:"text-sm text-light-foreground dark:text-dark-foreground",children:["Logic Mistakes: ",t.logicMistakesCount," (Penalty: -",r.logicMistakesPenalty.toFixed(2),")"]})]}),e.jsxs("div",{className:"p-4 bg-gray-200 dark:bg-gray-800 rounded-lg border border-light-border dark:border-dark-border",children:[e.jsx("h3",{className:"text-lg font-semibold text-light-foreground dark:text-dark-foreground",children:"Total Score Calculation"}),e.jsxs("p",{className:"text-sm text-light-foreground dark:text-dark-foreground",children:["Base Score: ",r.correctnessScore.toFixed(2)," (Correctness)"]}),e.jsxs("p",{className:"text-sm text-light-foreground dark:text-dark-foreground",children:["+ ",r.efficiencyScore.toFixed(2)," (Efficiency)"]}),e.jsxs("p",{className:"text-sm text-light-foreground dark:text-dark-foreground",children:["+ ",r.codeQualityScore.toFixed(2)," (Code Quality)"]}),e.jsxs("p",{className:"text-sm text-light-foreground dark:text-dark-foreground",children:["- ",r.hintsPenalty.toFixed(2)," (Hints Penalty)"]}),e.jsxs("p",{className:"text-sm text-light-foreground dark:text-dark-foreground",children:["- ",r.nextLineHelpPenalty.toFixed(2)," (Next-Line Help Penalty)"]}),e.jsxs("p",{className:"text-sm text-light-foreground dark:text-dark-foreground",children:["- ",r.syntaxMistakesPenalty.toFixed(2)," (Syntax Mistakes)"]}),e.jsxs("p",{className:"text-sm text-light-foreground dark:text-dark-foreground",children:["- ",r.logicMistakesPenalty.toFixed(2)," (Logic Mistakes)"]}),e.jsx("div",{className:"mt-2 pt-2 border-t border-light-border dark:border-dark-border",children:e.jsxs("p",{className:"text-lg font-semibold text-light-foreground dark:text-dark-foreground",children:["Final Score: ",r.totalScore.toFixed(2)," / ",c]})}),r.isTimeOver&&e.jsx("p",{className:"text-sm text-red-600 dark:text-red-400 mt-1",children:"Score set to 0 due to time limit exceeded"})]})]})})};export{m as default};
