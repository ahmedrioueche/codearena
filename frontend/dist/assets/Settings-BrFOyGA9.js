import{r as m,l as u,j as e,u as b,t as h,c as p,I as f,d as k,e as j,f as v,h as y,i as N,a as w}from"./index-evChX1jM.js";function L({settings:l,setSettings:c}){const[o,i]=m.useState(()=>localStorage.getItem("selectedLanguage")||l.language||"javascript"),[t,d]=m.useState(!1);m.useEffect(()=>{localStorage.setItem("selectedLanguage",o)},[o]);const n=[o,...u.map(a=>a.id)].filter((a,s,x)=>x.indexOf(a)===s).slice(0,5),g=u.filter(a=>!n.includes(a.id)),r=a=>{i(a),c({...l,language:a}),d(!1)};return e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-2",style:{gridTemplateColumns:"repeat(auto-fit, minmax(80px, 1fr))"},children:[n.map(a=>{const s=u.find(x=>x.id===a);return s?e.jsxs("button",{onClick:()=>r(s.id),className:`p-2 rounded-lg border transition-all ${o===s.id?"border-light-primary dark:border-dark-primary bg-light-primary/10 dark:bg-dark-primary/10":"border-light-border dark:border-dark-border"}`,children:[e.jsx("div",{className:"text-xl mb-1",children:s.icon}),e.jsx("div",{className:"text-xs text-light-foreground dark:text-white",children:s.name})]},s.id):null}),e.jsxs("button",{onClick:()=>d(!t),className:"p-2 rounded-lg border border-light-border dark:border-dark-border",children:[e.jsx("div",{className:"text-xl mb-1",children:"âž•"}),e.jsx("div",{className:"text-xs text-light-foreground dark:text-white",children:"More"})]})]}),t&&e.jsx("div",{className:"mt-2 p-2 g bg-white dark:text-white text-black dark:bg-dark-background ",children:e.jsx("div",{className:"grid grid-cols-2 gap-2",children:g.map(a=>e.jsxs("button",{onClick:()=>r(a.id),className:"p-2 rounded-lg flex flex-row space-x-1 items-center justify-center border border-light-border dark:border-dark-border transition-all hover:bg-light-primary/10 dark:hover:bg-dark-primary/10",children:[e.jsx("div",{className:"text-xl ",children:a.icon}),e.jsx("div",{className:"text-xs text-light-foreground dark:text-white",children:a.name})]},a.id))})})]})}const C=({isCollapsed:l,onToggleCollapse:c})=>{const{saveConfig:o,matchConfig:i}=b(),[t,d]=m.useState({language:(i==null?void 0:i.language)||"javascript",topics:(i==null?void 0:i.topics)||h.filter(r=>r.id==="algorithms"),difficultyLevel:(i==null?void 0:i.difficultyLevel)||"medium",timeLimit:(i==null?void 0:i.timeLimit)||"30",maxPlayers:"2",teamSize:"1"}),{isMobile:n}=p(),g=()=>{o({language:t.language,topics:t.topics,difficultyLevel:t.difficultyLevel,timeLimit:t.timeLimit}),c(),window.location.reload()};return e.jsx(e.Fragment,{children:e.jsx("div",{className:`relative h-full transition-all duration-300 flex flex-col  ${l?"w-12":"w-full"}`,role:"region","aria-label":"settings",children:e.jsx("div",{className:"p-1 md:p-4 md:pt-6 overflow-auto",children:(!l||!n)&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-row items-center justify-between mb-4",children:[e.jsx("label",{className:"text-lg font-medium text-light-foreground dark:text-white",children:"Settings"}),!l&&!n&&e.jsx(f,{onClick:c,icon:k})]}),e.jsx("label",{className:"text-base font-medium text-light-foreground dark:text-white",children:"Language"}),e.jsx(L,{settings:t,setSettings:d}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"text-base font-medium text-light-foreground dark:text-white",children:"Topics"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",style:{gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))"},children:h.map(r=>e.jsxs("button",{onClick:()=>{const a=t.topics.includes(r.id)?t.topics.filter(s=>s!==r.id):[...t.topics,r.id];d({...t,topics:a})},className:`w-full p-2 rounded-lg border flex items-center space-x-2 ${t.topics.includes(r.id)?"border-light-primary dark:border-dark-primary bg-light-primary/10 dark:bg-dark-primary/10":"border-light-border dark:border-dark-border"}`,children:[e.jsx(j,{className:"w-4 h-4 text-light-foreground dark:text-white"}),e.jsx("span",{className:"text-sm text-light-foreground dark:text-white",children:r.name})]},r.id))})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("label",{className:"block text-base font-medium text-light-foreground dark:text-dark-foreground",children:"Difficulty Level"}),e.jsx(v,{options:y.map(r=>({id:r.id,label:r.name,icon:r.icon})),value:t.difficultyLevel,onChange:r=>d({...t,difficultyLevel:r}),name:"difficulty"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"text-base font-medium text-light-foreground dark:text-white",children:"Time Limit"}),e.jsx("div",{className:"grid grid-cols-3 gap-2",style:{gridTemplateColumns:"repeat(auto-fit, minmax(100px, 1fr))"},children:N.map(r=>e.jsxs("button",{onClick:()=>d({...t,timeLimit:r.id}),className:`p-2 rounded-lg border transition-all ${t.timeLimit===r.id?"border-light-primary dark:border-dark-primary bg-light-primary/10 dark:bg-dark-primary/10":"border-light-border dark:border-dark-border"}`,children:[e.jsx(w,{className:"w-4 h-4 mx-auto mb-1 text-light-foreground dark:text-white"}),e.jsx("div",{className:"text-xs text-light-foreground dark:text-white",children:r.label})]},r.id))})]}),e.jsx("button",{onClick:g,className:"w-full p-3 bg-light-primary dark:bg-dark-primary text-white rounded-lg hover:opacity-90 transition-opacity",children:"Save Changes"})]})})})})};export{C as default};
